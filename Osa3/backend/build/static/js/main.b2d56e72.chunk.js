(window["webpackJsonp2.6"]=window["webpackJsonp2.6"]||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),u=n.n(o),c=n(2),l=n(3),s=n.n(l),i="/api/persons",f=function(){return s.a.get(i).then(function(e){return e.data})},m=function(e){return s.a.post(i,e).then(function(e){return e.data})},d=function(e,t){return s.a.put("".concat(i,"/").concat(e),t).then(function(e){return e.data})},p=function(e){var t=i+"/"+e;s.a.delete(t)},b=function(e){var t=e.namesToShow,n=(e.persons,e.setErrorMessage),r=e.setErrorType;return a.a.createElement("div",null,t.map(function(e){return a.a.createElement("p",{key:e.name},e.name," ",e.number," ",a.a.createElement("button",{type:"button",onClick:function(){return function(e,t){var a=window.confirm("Do you really want to delete "+e+"'s this number?");void 0!==t&&!0===a&&(p(t),r(!1),n(e+" was deleted succesfully!"),setTimeout(function(){n(null)},5e3))}(e.name,e.id)}},"Delete"))}))},E=n(14);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v=function(e){var t=e.persons,n=e.setPersons,o=e.setErrorMessage,u=e.setErrorType,l=Object(r.useState)(""),s=Object(c.a)(l,2),i=s[0],f=s[1],p=Object(r.useState)(""),b=Object(c.a)(p,2),v=b[0],O=b[1];return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:function(e){if(t.some(function(e){return e.name===i})){e.preventDefault();var r=t.find(function(e){return e.name===i}).id,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(E.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t[r-1],{number:v});!0===window.confirm(i+" is already added to phonebook. Do you want to replace it?")&&d(r,a).then(function(e){n(t.map(function(t){return t.id!==r?t:e})),u(!1),o(i+" was changed succesfully!"),setTimeout(function(){o(null)},5e3)}).catch(function(e){u(!0),o(i+" was already deleted from the server"),setTimeout(function(){o(null)},5e3),n(t.filter(function(e){return e.id!==r}))})}else{e.preventDefault(),m({name:i,number:v}).then(function(e){n(t.concat(e)),u(!1),o(i+" was added succesfully!"),setTimeout(function(){o(null)},5e3),f(""),O("")}).catch(function(e){u(!0),o("error.response.data.error"),setTimeout(function(){o(null)},5e3)})}}},a.a.createElement("div",null," name: ",a.a.createElement("input",{value:i,onChange:function(e){f(e.target.value)}})," "),a.a.createElement("div",null," number: ",a.a.createElement("input",{value:v,onChange:function(e){O(e.target.value)}})," "),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add"))))},O=function(e){var t=e.newFilter,n=e.setNewFilter,r=e.setShowAll;return a.a.createElement("div",null,"Filter shown with: ",a.a.createElement("input",{value:t,onChange:function(e){n(e.target.value),r(!1)}}))},h=function(e){var t=e.message,n=e.errorType;return null===t||""===t?null:!0===n?a.a.createElement("div",{className:"error"},t):a.a.createElement("div",{className:"message"},t)},y=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],u=Object(r.useState)(""),l=Object(c.a)(u,2),s=l[0],i=l[1],m=Object(r.useState)(!0),d=Object(c.a)(m,2),p=d[0],E=d[1];Object(r.useEffect)(function(){f().then(function(e){o(e)})},[]);var w=Object(r.useState)(""),y=Object(c.a)(w,2),g=y[0],j=y[1],S=Object(r.useState)(!0),T=Object(c.a)(S,2),P=T[0],D=T[1],k=P?n:n.filter(function(e){return e.name.toLowerCase().includes(g.toLocaleLowerCase())});return a.a.createElement("div",null,a.a.createElement(h,{message:s,errorType:p}),a.a.createElement("h2",null,"Phonebook"),a.a.createElement(O,{newFilter:g,setNewFilter:j,setShowAll:D}),a.a.createElement("h2",null,"Add a new"),a.a.createElement(v,{persons:n,setPersons:o,errorMessage:s,setErrorMessage:i,setErrorType:E}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(b,{namesToShow:k,persons:n,setPersons:o,errorMessage:s,setErrorMessage:i,setErrorType:E}))};n(37);u.a.render(a.a.createElement(y,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b2d56e72.chunk.js.map